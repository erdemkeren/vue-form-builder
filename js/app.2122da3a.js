(function(t){function e(e){for(var o,a,s=e[0],u=e[1],c=e[2],p=0,f=[];p<s.length;p++)a=s[p],r[a]&&f.push(r[a][0]),r[a]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(t[o]=u[o]);l&&l(e);while(f.length)f.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,s=1;s<n.length;s++){var u=n[s];0!==r[u]&&(o=!1)}o&&(i.splice(e--,1),t=a(a.s=n[0]))}return t}var o={},r={app:0},i=[];function a(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=o,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(n,o,function(e){return t[e]}.bind(null,o));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/vue-form-builder/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var l=u;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"017b":function(t,e,n){},"034f":function(t,e,n){"use strict";var o=n("64a9"),r=n.n(o);r.a},1703:function(t,e,n){},1800:function(t,e,n){"use strict";var o=n("e19b"),r=n.n(o);r.a},"1fbb":function(t,e,n){"use strict";var o=n("74d1"),r=n.n(o);r.a},"233c":function(t,e,n){"use strict";var o=n("93cc"),r=n.n(o);r.a},"2fe3":function(t,e,n){"use strict";var o=n("fc15"),r=n.n(o);r.a},"4f96":function(t,e,n){"use strict";var o=n("ba27"),r=n.n(o);r.a},"52bb":function(t,e,n){"use strict";var o=n("1703"),r=n.n(o);r.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"form"},[t._l(t.form.items,function(e){return n("div",{key:e.uuid},[n("h1",[t._v(t._s(e.title))]),n("div",{staticClass:"page"},[t._l(e.items,function(e){return["section"===e.type?n("Section",{key:e.uuid,attrs:{items:e.items,uuid:e.uuid,"on-response-type-change":t.handleQuestionResponseTypeChange,"on-title-change":t.handleQuestionTitleChange,"on-append-section":t.appendSection,"on-append-question":t.appendQuestion}}):t._e(),"question"===e.type?n("Question",{key:e.uuid,attrs:{item:e,"on-response-type-change":t.handleQuestionResponseTypeChange,"on-title-change":t.handleQuestionTitleChange}}):t._e()]}),n("TButton",{attrs:{"on-click":function(){return t.appendQuestion(e.uuid)}}},[t._v("\n                    [+] Add Question\n                ")]),n("TButton",{attrs:{"on-click":function(){return t.appendSection(e.uuid)}}},[t._v("\n                    [+] Add Section\n                ")])],2)])}),n("div",{staticClass:"page",staticStyle:{display:"flex","align-items":"center","justify-content":"center","margin-top":"20px"}},[n("TButton",{attrs:{"on-click":t.appendPage}},[t._v("\n                [+] Add Page\n            ")])],1)],2),n("div",{staticClass:"line"},[n("PrimaryButton",{attrs:{type:"button","on-click":t.exportForm}},[t._v("Export")]),n("form",{staticStyle:{display:"inline","border-left":"1px solid #e3e3e3",padding:"20px"}},[n("input",{ref:"ufi",attrs:{name:"upload-input",type:"file"}}),n("SecondaryButton",{attrs:{type:"button","on-click":t.importForm}},[t._v("Upload")])],1)],1)])},i=[],a=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),s=n("75fc"),u=n("11c1"),c=n.n(u),l=n("d225"),p=n("b0b4"),f=function(){function t(){Object(l["a"])(this,t)}return Object(p["a"])(t,null,[{key:"validate",value:function(t){var e=function t(e){return e.reduce(function(e,n){return e?"type"in n&&-1!==["question","section"].indexOf(n.type)&&("uuid"in n&&"type"in n&&(("question"!==n.type||"title"in n)&&("section"!==n.type||"items"in n&&(!!Array.isArray(n.items)&&t(n.items))))):e},!0)};return"uuid"in t&&"type"in t&&"items"in t&&("form"!==!t.type&&(!!Array.isArray(t.items)&&t.items.reduce(function(t,n){return t?"uuid"in n&&"type"in n&&"items"in n&&("page"!==!n.type&&(!!Array.isArray(n.items)&&e(n.items))):t},!0)))}}]),t}(),d=function(t){var e="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(t,null,2)),n=document.createElement("a");n.setAttribute("href",e),n.setAttribute("download","export.json"),document.body.appendChild(n),n.click(),n.remove()},m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"t-btn",attrs:{type:t.type},on:{click:t.onClick}},[t._t("default")],2)},h=[],b={name:"TButton",props:["type","onClick"]},y=b,v=(n("c184"),n("2877")),g=Object(v["a"])(y,m,h,!1,null,"4c30f25b",null),O=g.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"section"},[t._l(t.items,function(e){return["section"===e.type?n("Section",{key:e.uuid,attrs:{uuid:e.uuid,items:e.items,"on-response-type-change":t.onResponseTypeChange,"on-title-change":t.onTitleChange,"on-append-section":t.onAppendSection,"on-append-question":t.onAppendQuestion}}):t._e(),"question"===e.type?n("Question",{key:e.uuid,attrs:{item:e,"on-response-type-change":t.onResponseTypeChange,"on-title-change":t.onTitleChange}}):t._e()]}),n("TButton",{attrs:{"on-click":function(){return t.onAppendQuestion(t.uuid)}}},[t._v("[+] Add Question")]),n("TButton",{attrs:{"on-click":function(){return t.onAppendSection(t.uuid)}}},[t._v("[+] Add Section")])],2)},_=[],k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return"question"===t.item.type?n("div",{key:t.item.uuid,staticClass:"question"},[n("fbuilder-input",{attrs:{placeholder:"Please write your question here...",value:t.item.title,keyup:function(e){t.onTitleChange(t.item.uuid,e)}}}),n("fbuilder-select",{attrs:{"default-value":t.item.response_type,"on-change":function(e){t.onResponseTypeChange(t.item.uuid,e)}}},[n("fbuilder-option",{attrs:{letter:"T","border-color":"#50b8ff","background-color":"#cfefff","foreground-color":"#50b8ff",value:"text"}},[t._v("Text")]),n("fbuilder-option",{attrs:{letter:"#","border-color":"#ba31ed","background-color":"#f5defe","foreground-color":"#ba31ed",value:"number"}},[t._v("Number")])],1)],1):t._e()},j=[],w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("input",{staticClass:"input",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.value},on:{keyup:function(e){return t.keyup(e.target.value)}}})},x=[],S={name:"Input",props:{value:String,placeholder:String,keyup:Function}},P=S,B=(n("6a11"),Object(v["a"])(P,w,x,!1,null,"4bfabcd8",null)),T=B.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"select",on:{click:t.onclick}},[n("fbuilder-option",{attrs:{letter:t.letter,"border-color":t.borderColor,"background-color":t.backgroundColor,"foreground-color":t.foregroundColor}},[t._v(t._s(t.label))]),n("dropdown-icon"),n("div",{staticClass:"select-options",style:{display:t.isOpen?"block":"none"},on:{click:t.handler}},[n("fbuilder-option",{attrs:{value:"",letter:"","border-color":"#7c7c7c","background-color":"#f8f8f8","foreground-color":"#ffffff"}},[t._v("None")]),t._t("default")],2)],1)},E=[],I=(n("7f7f"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{height:"6",width:"10"}},[n("path",{staticStyle:{stroke:"rgb(124,124,124)","stroke-width":"2"},attrs:{"fill-opacity":"0",d:"M0 0 L5 5 L10 0"}})])}),Q=[],$={name:"DropdownIcon"},R=$,V=Object(v["a"])(R,I,Q,!1,null,null,null),q=V.exports,D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"select-label",attrs:{"data-value":t.value}},[n("svg",{staticStyle:{"margin-right":"8px"},attrs:{width:"22",height:"22",xmlns:"http://www.w3.org/2000/svg"}},[n("g",[n("ellipse",{attrs:{ry:"10",rx:"10",id:"svg_1",cy:"11",cx:"11","stroke-width":"1.5",stroke:t.borderColor,fill:t.backgroundColor}}),n("text",{attrs:{stroke:t.foregroundColor,"xml:space":"preserve","text-anchor":"start","font-family":"Helvetica, Arial, sans-serif","font-size":"10",id:"svg_2",y:"14.398351",x:"7.942434","stroke-width":"0",fill:t.foregroundColor}},[t._v(t._s(t.letter))])])]),t._t("default")],2)},F=[],N={name:"Option",props:{letter:String,borderColor:String,backgroundColor:String,foregroundColor:String,value:String}},M=N,J=(n("52bb"),Object(v["a"])(M,D,F,!1,null,"70829b13",null)),L=J.exports;function U(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)}return n}function z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?U(n,!0).forEach(function(e){Object(a["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var H={name:"Select",props:{defaultValue:String,onChange:Function},created:function(){var t=this;window.addEventListener("click",function(e){t.$el.contains(e.target)||(t.isOpen=!1)})},mounted:function(){this.getOptions()},data:function(){return{isOpen:!1,options:{}}},methods:{getOptions:function(){var t={},e=this.$slots.default.map(function(t){var e=t.componentInstance.$slots.default?t.componentInstance.$slots.default[0].text:void 0,n=t.componentOptions.Ctor.options,o=t.componentOptions.propsData;return"Option"!==!n.name&&z({},o,{label:e})});e.forEach(function(e){t[e.value]=e}),this.options=z({"":{label:"Select...",letter:"",borderColor:"#7c7c7c",backgroundColor:"#f8f8f8",foregroundColor:"#ffffff"}},t)},onclick:function(){this.isOpen=!this.isOpen},handler:function(t){var e=t.target,n=t.target.dataset.value;while(void 0===n&&e!==t.currentTarget)e=e.parentNode,n=e.dataset.value;void 0!==n&&this.onChange(n)}},components:{"dropdown-icon":q,"fbuilder-option":L},computed:{label:function(){return this.options[this.defaultValue||""]?this.options[this.defaultValue||""].label:void 0},letter:function(){return this.options[this.defaultValue||""]?this.options[this.defaultValue||""].letter:void 0},borderColor:function(){return this.options[this.defaultValue||""]?this.options[this.defaultValue||""].borderColor:void 0},backgroundColor:function(){return this.options[this.defaultValue||""]?this.options[this.defaultValue||""].backgroundColor:void 0},foregroundColor:function(){return this.options[this.defaultValue||""]?this.options[this.defaultValue||""].foregroundColor:void 0}}},G=H,K=(n("233c"),Object(v["a"])(G,A,E,!1,null,"0ac63c6a",null)),W=K.exports,X={name:"Item",props:["item","onResponseTypeChange","onTitleChange"],components:{"fbuilder-input":T,"fbuilder-select":W,"fbuilder-option":L}},Y=X,Z=(n("2fe3"),Object(v["a"])(Y,k,j,!1,null,"0e6b072c",null)),tt=Z.exports,et={name:"Section",props:["uuid","items","onResponseTypeChange","onTitleChange","onAppendSection","onAppendQuestion"],components:{Question:tt,Section:void 0,TButton:O}},nt=et,ot=(n("4f96"),Object(v["a"])(nt,C,_,!1,null,"001fee44",null)),rt=ot.exports,it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Button",{staticClass:"btn-primary",attrs:{type:t.type,"on-click":t.onClick}},[t._t("default")],2)},at=[],st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"btn",class:t.className,attrs:{type:t.type},on:{click:t.onClick}},[t._t("default")],2)},ut=[],ct={name:"Button",props:["type","onClick","className"]},lt=ct,pt=(n("1800"),Object(v["a"])(lt,st,ut,!1,null,"0366b356",null)),ft=pt.exports,dt={name:"PrimaryButton",props:["type","onClick"],components:{Button:ft}},mt=dt,ht=(n("ae7a"),Object(v["a"])(mt,it,at,!1,null,"83024c8e",null)),bt=ht.exports,yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Button",{staticClass:"btn-secondary",attrs:{type:t.type,"on-click":t.onClick}},[t._t("default")],2)},vt=[],gt={name:"SecondaryButton",props:["type","onClick"],components:{Button:ft}},Ot=gt,Ct=(n("1fbb"),Object(v["a"])(Ot,yt,vt,!1,null,"80932f56",null)),_t=Ct.exports;function kt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)}return n}function jt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kt(n,!0).forEach(function(e){Object(a["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kt(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var wt={name:"app",data:function(){return{form:{uuid:c()(),type:"form",items:[{uuid:c()(),type:"page",title:"Page 1",items:[]}]}}},methods:{handleQuestionResponseTypeChange:function(t,e){this.form.items=this.modifyItemOnBranch(t,"response_type",e,this.form.items)},handleQuestionTitleChange:function(t,e){this.form.items=this.modifyItemOnBranch(t,"title",e,this.form.items)},appendPage:function(){var t=c()();this.form.items=[].concat(Object(s["a"])(this.form.items),[{uuid:t,title:"Unnamed Page",type:"page",items:[]}])},appendSection:function(t){this.form.items=this.appendItemOnBranchByParentId(t,{uuid:c()(),type:"section",items:[]},this.form.items)},appendQuestion:function(t){this.form.items=this.appendItemOnBranchByParentId(t,{uuid:c()(),type:"question",title:""},this.form.items)},appendItemOnBranchByParentId:function(t,e,n){var o=this;return n.map(function(n){return n.uuid===t?jt({},n,{items:[].concat(Object(s["a"])(n.items),[e])}):"page"===n.type||"section"===n.type?jt({},n,{items:o.appendItemOnBranchByParentId(t,e,n.items)}):n})},modifyItemOnBranch:function(t,e,n,o){var r=this;return o.map(function(o){return o.uuid===t?jt({},o,Object(a["a"])({},e,n)):"page"===o.type||"section"===o.type?jt({},o,{items:r.modifyItemOnBranch(t,e,n,o.items)}):o})},exportForm:function(){d(this.form)},importForm:function(){if(window.FileReader){var t=this.$refs.ufi;if(!t.files.length)return alert("Please select an export first."),!1;var e=new FileReader;e.onload=function(t){if(2==t.target.readyState)if(t.target.error)alert("Error while reading file");else{var e=t.target.result,n={};try{n=JSON.parse(e)}catch(t){return alert("Please upload a valid form builder export."),!1}if(!f.validate(n))return alert("Please upload a valid form builder export."),!1;this.form=n}}.bind(this),e.readAsText(t.files[0])}}},components:{Question:tt,Section:rt,TButton:O,PrimaryButton:bt,SecondaryButton:_t}},xt=wt,St=(n("034f"),Object(v["a"])(xt,r,i,!1,null,null,null)),Pt=St.exports;o["a"].config.productionTip=!1,new o["a"]({render:function(t){return t(Pt)}}).$mount("#app")},"64a9":function(t,e,n){},"6a11":function(t,e,n){"use strict";var o=n("8756"),r=n.n(o);r.a},"74d1":function(t,e,n){},8756:function(t,e,n){},"93cc":function(t,e,n){},a409:function(t,e,n){},ae7a:function(t,e,n){"use strict";var o=n("017b"),r=n.n(o);r.a},ba27:function(t,e,n){},c184:function(t,e,n){"use strict";var o=n("a409"),r=n.n(o);r.a},e19b:function(t,e,n){},fc15:function(t,e,n){}});
//# sourceMappingURL=app.2122da3a.js.map